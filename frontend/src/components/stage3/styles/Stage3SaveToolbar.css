/* =============================================================================
   STAGE 3 SAVE TOOLBAR - Decision saving interface
   ============================================================================= */

/* Dark mode: See Stage3SaveToolbarDark.css */
@import url('./Stage3SaveToolbarDark.css');

/* Save success states: See Stage3SaveSuccess.css */
@import url('./Stage3SaveSuccess.css');

/* Save actions container */
.stage3-actions {
  margin-top: var(--space-4);
  padding-top: var(--space-4);
  border-top: 1px solid var(--color-border);
}

/* ============================================================================
   SAVE TOOLBAR - Unified, modern design (v2)
   ============================================================================ */

/* Unified toolbar container */
.save-toolbar-unified {
  display: flex;
  align-items: center;
  gap: var(--gap);
  flex-wrap: wrap;
}

/* Options group - visually contained */
.save-options-group {
  display: inline-flex;
  align-items: center;
  background: var(--color-slate-50);
  border: 1px solid var(--color-slate-200);
  border-radius: var(--radius-lg);
  padding: var(--space-1);
  gap: var(--gap-xs);
}

/* Compact department trigger - visible button styling */
.save-dept-trigger {
  display: inline-flex;
  align-items: center;
  gap: var(--gap-xs-plus);
  padding: var(--space-1-5) var(--space-2-5);
  background: var(--color-bg-primary);
  border: 1px solid var(--color-slate-200);
  border-radius: var(--radius-md);
  font-size: var(--text-xs-plus);
  font-weight: 500;
  color: var(--color-slate-600);
  cursor: pointer;
  transition: all 0.15s ease;
  min-width: auto;
  width: auto;
  height: auto;
  box-shadow: none;
}

.save-dept-trigger:hover {
  background: var(--color-slate-50);
  border-color: var(--color-slate-300);
  color: var(--color-slate-700);
}

.save-dept-trigger:focus {
  outline: none;
  background: var(--color-slate-50);
  border-color: var(--color-slate-300);
}

/* Department trigger with selection - subtle accent border to indicate selection */
.save-dept-trigger.has-selection {
  font-weight: 600;
  border-left: 3px solid var(--color-emerald-500);
  box-shadow: 0 1px 3px var(--overlay-black-10);
}

.save-dept-trigger svg:last-child {
  /* Hide default chevron, we use icon instead */
  display: none;
}

/* Divider between dept and type */
.save-divider {
  width: 1px;
  height: 20px;
  background: var(--color-slate-200);
  margin: 0 2px;
}

/* Type selector pills - inside the group */
.save-type-pills {
  display: inline-flex;
  gap: var(--gap-2xs);
}

.save-type-pill {
  display: inline-flex;
  align-items: center;
  gap: var(--gap-xs);
  padding: var(--space-1-5) var(--space-2-5);
  border: none;
  background: transparent;
  border-radius: var(--radius-md);
  font-size: var(--text-xs);
  font-weight: 500;
  color: var(--color-slate-500);
  cursor: pointer;
  transition: all 0.15s ease;
}

/* Type-specific hover states - lighter version of selected colors */
.save-type-pill.sop:hover:not(:disabled, .selected) {
  background: var(--color-blue-200);
  color: var(--color-blue-700);
}

.save-type-pill.framework:hover:not(:disabled, .selected) {
  background: var(--color-amber-200);
  color: var(--color-amber-700);
}

.save-type-pill.policy:hover:not(:disabled, .selected) {
  background: var(--color-purple-200);
  color: var(--color-purple-600);
}

/* Type-specific selected states - consistent with playbook colors */
.save-type-pill.selected.sop {
  background: var(--color-blue-100);
  color: var(--color-blue-700);
  box-shadow: 0 1px 2px var(--overlay-blue-15);
}

.save-type-pill.selected.framework {
  background: var(--color-amber-100);
  color: var(--color-amber-700);
  box-shadow: 0 1px 2px var(--overlay-amber-15);
}

.save-type-pill.selected.policy {
  background: var(--color-purple-100);
  color: var(--color-purple-600);
  box-shadow: 0 1px 2px var(--overlay-purple-15);
}

.save-type-pill:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.save-type-pill svg {
  opacity: 0.7;
}

.save-type-pill.selected svg {
  opacity: 1;
}

/* Saved state - type-specific colors with checkmark indicator */
.save-type-pill.saved {
  cursor: default;
}

.save-type-pill.saved.sop {
  background: var(--color-blue-100);
  color: var(--color-blue-700);
  box-shadow: 0 1px 2px var(--overlay-blue-15);
}

.save-type-pill.saved.framework {
  background: var(--color-amber-100);
  color: var(--color-amber-700);
  box-shadow: 0 1px 2px var(--overlay-amber-15);
}

.save-type-pill.saved.policy {
  background: var(--color-purple-100);
  color: var(--color-purple-600);
  box-shadow: 0 1px 2px var(--overlay-purple-15);
}

.save-type-pill.saved svg {
  opacity: 1;
}

/* Main save button - matches toolbar-pill height for symmetry */
.save-action-btn {
  display: inline-flex;
  align-items: center;
  gap: var(--gap-xs);
  padding: var(--space-1-5) var(--space-3);
  background: var(--color-emerald-600);
  border: none;
  border-radius: var(--radius-md);
  font-size: var(--text-xs);
  font-weight: 600;
  color: var(--color-text-inverse);
  cursor: pointer;
  transition: all 0.2s ease;
  white-space: nowrap;
  box-shadow: 0 1px 2px var(--overlay-emerald-20);
}

.save-action-btn:hover:not(:disabled) {
  background: var(--color-emerald-700);
  box-shadow: 0 4px 8px var(--overlay-emerald-20);
  transform: translateY(-1px);
}

.save-action-btn:active:not(:disabled) {
  transform: translateY(0);
}

.save-action-btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  transform: none;
}

.save-action-btn.loading {
  background: var(--color-gray-500);
  box-shadow: none;
}
