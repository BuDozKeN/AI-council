/**
 * FollowUpBarDark.css - Dark mode and mobile styles
 * Extracted from FollowUpBar.css for CSS budget compliance
 */

/* =============================================================================
   CONTEXT POPOVER - Dark Mode
   ============================================================================= */

.dark .context-popover-content {
  background: var(--color-bg-secondary);
  border-color: var(--color-border);
  box-shadow:
    0 8px 32px var(--overlay-black-40),
    0 2px 8px var(--overlay-black-20);
}

.dark .context-popover-header {
  color: var(--color-text-secondary);
  border-block-end-color: var(--color-border);
}

.dark .context-popover-clear {
  color: var(--color-text-tertiary);
}

.dark .context-popover-clear:hover {
  background: var(--color-bg-hover);
  color: var(--color-text-secondary);
}

.dark .context-popover-item {
  color: var(--color-text-primary);
}

.dark .context-popover-item:hover {
  background: var(--color-bg-hover);
}

.dark .context-popover-item.selected {
  background: var(--color-bg-hover);
}

.dark .context-popover-empty {
  color: var(--color-text-tertiary);
}

.dark .context-popover-checkbox {
  background: var(--color-bg-tertiary);
  border-color: var(--color-border-dark);
}

.dark .context-popover-checkbox.checked {
  background: var(--color-indigo-500);
  border-color: var(--color-indigo-500);
}

.dark .context-popover-radio {
  background: var(--color-bg-tertiary);
  border-color: var(--color-border-dark);
}

.dark .context-popover-radio.checked {
  background: var(--color-emerald-500);
  border-color: var(--color-emerald-500);
}

.dark .context-popover-group-header {
  color: var(--color-text-secondary);
}

.dark .context-popover-group-header.clickable {
  background: var(--color-bg-tertiary);
}

.dark .context-popover-group-header.clickable:hover {
  background: var(--color-bg-hover);
}

.dark .context-popover-group-items {
  border-inline-start-color: var(--color-border);
}

/* Playbook type colors in dark mode */
.dark .context-popover-group-header.sop {
  color: var(--color-blue-400);
}

.dark .context-popover-group-header.framework {
  color: var(--color-amber-400);
}

.dark .context-popover-group-header.policy {
  color: var(--color-purple-400);
}

/* =============================================================================
   MOBILE STYLES - Context popover and BottomSheet overrides
   ============================================================================= */

@media (width <= 640px) {
  /* In BottomSheet: remove max-height so list fills available space */
  .bottom-sheet-body .context-popover-list {
    max-height: none;
  }

  /* Context popover on mobile - card-style items like DepartmentCheckboxItem */
  .context-popover-list {
    gap: var(--gap-xs-plus);
    padding: var(--space-2);
  }

  .context-popover-item {
    padding: var(--space-3-5) var(--space-4);
    font-size: var(--text-base);
    min-height: 56px;
    background: var(--color-bg-tertiary);
    border-radius: var(--radius-lg);
  }

  .context-popover-item:active {
    background: var(--color-bg-hover);
    transform: scale(0.98);
  }

  .context-popover-item.selected {
    background: var(--color-bg-hover);
  }

  /* Larger checkbox/radio on mobile */
  .context-popover-checkbox,
  .context-popover-radio {
    width: 22px;
    height: 22px;
    border-radius: var(--radius-md);
  }

  .context-popover-checkbox svg,
  .context-popover-radio svg {
    width: 14px;
    height: 14px;
  }

  /* Larger accordion headers for Playbooks */
  .context-popover-group-header.clickable {
    padding: var(--space-3-5) var(--space-3);
    font-size: var(--text-xs-plus);
    min-height: 48px;
    gap: var(--gap-sm-plus);
  }

  .context-popover-group-header .section-chevron {
    width: 16px;
    height: 16px;
  }

  .context-popover-group-header svg {
    width: 16px;
    height: 16px;
  }

  .context-popover-group-header .section-count {
    font-size: var(--text-xs-plus);
  }

  /* Larger expanded items container */
  .context-popover-group-items {
    margin-left: var(--space-5);
    padding-left: var(--space-3);
    margin-top: var(--space-2);
  }

  /* Items inside expanded sections (Playbooks) */
  .context-popover-group-items .context-popover-item {
    padding: var(--space-3) var(--space-3-5);
    font-size: var(--text-sm-plus);
    min-height: 48px;
  }

  /* Mobile dark mode - card items with proper background */
  .dark .context-popover-item {
    background: var(--color-bg-tertiary);
  }

  .dark .context-popover-item:active {
    background: var(--color-bg-hover);
  }

  .dark .context-popover-item.selected {
    background: var(--color-bg-hover);
  }
}

/* =============================================================================
   DARK MODE - Follow-up bar
   ============================================================================= */

.dark .context-icon-btn {
  color: var(--color-text-tertiary);
}

.dark .context-icon-btn:hover:not(:disabled) {
  background: var(--color-bg-hover);
  color: var(--color-text-secondary);
}

.dark .context-icon-btn.dept.has-selection {
  color: var(--color-amber-400);
}

.dark .context-icon-btn.role.has-selection {
  color: var(--color-purple-400);
}

.dark .context-icon-btn.playbook.has-selection {
  color: var(--color-blue-400);
}

.dark .context-icon-btn.mode-toggle {
  border-inline-start-color: var(--color-border);
}

.dark .context-icon-btn.mode-toggle.council {
  color: var(--color-indigo-400);
}

/* Dark mode context-popover styles are in OmniBar.css (single source of truth) */
