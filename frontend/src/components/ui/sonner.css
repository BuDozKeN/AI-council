/* =============================================================================
   TOAST CELEBRATIONS - Premium Sonner Toast Styling
   Turn boring "Saved" into delightful micro-celebrations
   ============================================================================= */

/* Toast entrance animation - spring pop with slide */
@keyframes toast-enter {
  0% {
    opacity: 0;
    transform: translateY(100%) scale(0.9);
  }

  50% {
    transform: translateY(-8px) scale(1.02);
  }

  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Toast exit animation */
@keyframes toast-exit {
  0% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }

  100% {
    opacity: 0;
    transform: translateY(8px) scale(0.95);
  }
}

/* Success icon pop animation */
@keyframes success-icon-pop {
  0% {
    transform: scale(0) rotate(-45deg);
    opacity: 0;
  }

  50% {
    transform: scale(1.3) rotate(10deg);
  }

  70% {
    transform: scale(0.9) rotate(-5deg);
  }

  100% {
    transform: scale(1) rotate(0);
    opacity: 1;
  }
}

/* Success checkmark draw animation */
@keyframes checkmark-draw {
  0% {
    stroke-dashoffset: 24;
  }

  100% {
    stroke-dashoffset: 0;
  }
}

/* Success glow pulse */
@keyframes success-glow {
  0%,
  100% {
    box-shadow: 0 0 0 0 rgb(16 185 129 / 0%);
  }

  50% {
    box-shadow: 0 0 12px 2px rgb(16 185 129 / 30%);
  }
}

/* =============================================================================
   TOASTER CONTAINER
   ============================================================================= */

.toaster {
  --toast-bg: var(--color-bg-primary);
  --toast-border: var(--color-border-default);
  --toast-text: var(--color-text-primary);
  --toast-success-bg: rgb(16 185 129 / 8%);
  --toast-success-border: rgb(16 185 129 / 30%);
  --toast-success-icon: var(--color-success);
  --toast-error-bg: rgb(239 68 68 / 8%);
  --toast-error-border: rgb(239 68 68 / 30%);
  --toast-error-icon: var(--color-error);
}

.dark .toaster,
[data-theme='dark'] .toaster {
  --toast-success-bg: rgb(16 185 129 / 12%);
  --toast-success-border: rgb(16 185 129 / 40%);
  --toast-error-bg: rgb(239 68 68 / 12%);
  --toast-error-border: rgb(239 68 68 / 40%);
}

/* =============================================================================
   BASE TOAST STYLING
   ============================================================================= */

[data-sonner-toast] {
  /* Override default animation with our spring pop */
  animation: toast-enter 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) !important;
  border-radius: var(--radius-lg, 12px) !important;
  padding: var(--space-3-5) var(--space-4) !important;
  gap: var(--gap) !important;
  font-weight: 500 !important;
  font-size: var(--text-sm) !important;
  line-height: 1.4 !important;
}

[data-sonner-toast][data-removed='true'] {
  animation: toast-exit 0.25s ease-out forwards !important;
}

/* =============================================================================
   SUCCESS TOAST - The Star of the Show
   ============================================================================= */

[data-sonner-toast][data-type='success'] {
  background: var(--toast-success-bg) !important;
  border: 1px solid var(--toast-success-border) !important;
  animation:
    toast-enter 0.4s cubic-bezier(0.34, 1.56, 0.64, 1),
    success-glow 0.8s ease-out 0.2s !important;
}

/* Success icon container */
[data-sonner-toast][data-type='success'] [data-icon] {
  animation: success-icon-pop 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) 0.1s backwards !important;
}

/* Success icon SVG - green checkmark */
[data-sonner-toast][data-type='success'] [data-icon] svg {
  color: var(--toast-success-icon) !important;
  width: 20px !important;
  height: 20px !important;
  filter: drop-shadow(0 0 4px rgb(16 185 129 / 40%));
}

/* Success text styling */
[data-sonner-toast][data-type='success'] [data-title] {
  color: var(--color-success-dark) !important;
  font-weight: 600 !important;
}

.dark [data-sonner-toast][data-type='success'] [data-title],
[data-theme='dark'] [data-sonner-toast][data-type='success'] [data-title] {
  color: var(--color-success) !important;
}

/* =============================================================================
   ERROR TOAST
   ============================================================================= */

[data-sonner-toast][data-type='error'] {
  background: var(--toast-error-bg) !important;
  border: 1px solid var(--toast-error-border) !important;
}

[data-sonner-toast][data-type='error'] [data-icon] svg {
  color: var(--toast-error-icon) !important;
  width: 20px !important;
  height: 20px !important;
}

[data-sonner-toast][data-type='error'] [data-title] {
  color: var(--color-error-dark) !important;
  font-weight: 600 !important;
}

.dark [data-sonner-toast][data-type='error'] [data-title],
[data-theme='dark'] [data-sonner-toast][data-type='error'] [data-title] {
  color: var(--color-error) !important;
}

/* =============================================================================
   INFO & WARNING TOASTS
   ============================================================================= */

[data-sonner-toast][data-type='info'] {
  background: rgb(59 130 246 / 8%) !important;
  border: 1px solid rgb(59 130 246 / 30%) !important;
}

[data-sonner-toast][data-type='warning'] {
  background: rgb(245 158 11 / 8%) !important;
  border: 1px solid rgb(245 158 11 / 30%) !important;
}

/* =============================================================================
   ACTION BUTTONS (Undo, etc.)
   ============================================================================= */

[data-sonner-toast] [data-button] {
  background: var(--color-primary) !important;
  color: var(--color-text-inverse) !important;
  border-radius: var(--radius-md) !important;
  padding: var(--space-1-5) var(--space-3) !important;
  font-weight: 600 !important;
  font-size: var(--text-xs-plus) !important;
  transition:
    background-color 0.15s ease,
    transform 0.1s ease,
    box-shadow 0.15s ease !important;
  min-height: 32px !important;
}

[data-sonner-toast] [data-button]:hover {
  background: var(--color-primary-hover) !important;
  transform: translateY(-1px) !important;
  box-shadow: 0 2px 8px rgb(99 102 241 / 30%) !important;
}

[data-sonner-toast] [data-button]:active {
  transform: translateY(0) scale(0.98) !important;
}

/* Cancel button - secondary style */
[data-sonner-toast] [data-cancel] {
  background: var(--color-bg-muted) !important;
  color: var(--color-text-secondary) !important;
}

[data-sonner-toast] [data-cancel]:hover {
  background: var(--color-bg-hover) !important;
  box-shadow: none !important;
}

/* =============================================================================
   DESCRIPTION TEXT
   ============================================================================= */

[data-sonner-toast] [data-description] {
  color: var(--color-text-secondary) !important;
  font-size: var(--text-xs-plus) !important;
  font-weight: 400 !important;
  margin-top: var(--space-0-5) !important;
}

/* =============================================================================
   CLOSE BUTTON
   ============================================================================= */

[data-sonner-toast] [data-close-button] {
  opacity: 0.5 !important;
  transition: opacity 0.15s ease !important;
}

[data-sonner-toast]:hover [data-close-button] {
  opacity: 1 !important;
}

/* =============================================================================
   MOBILE OPTIMIZATIONS
   ============================================================================= */

@media (width <= 640px) {
  [data-sonner-toast] {
    padding: var(--space-4) !important;
    border-radius: var(--radius-xl, 16px) !important;
  }

  [data-sonner-toast] [data-button] {
    min-height: 44px !important;
    padding: var(--space-2-5) var(--space-4) !important;
  }
}

/* =============================================================================
   REDUCED MOTION
   ============================================================================= */

@media (prefers-reduced-motion: reduce) {
  [data-sonner-toast] {
    animation: none !important;
  }

  [data-sonner-toast][data-type='success'] {
    animation: none !important;
  }

  [data-sonner-toast][data-type='success'] [data-icon] {
    animation: none !important;
  }
}
