/* OmniBar - Mobile Responsive */

/* Extracted from OmniBar.css lines 840-993 */

/* Context button & menu: See mobile-context-button.css and mobile-context-menu.css */
@import url('./mobile-context-button.css');
@import url('./mobile-context-menu.css');

/* =============================================================================
   MOBILE ADJUSTMENTS
   ============================================================================= */

@media (width <= 640px) {
  .omni-bar-wrapper {
    max-width: 100%;
  }

  .omni-bar-top {
    padding: var(--space-2-5) var(--space-3) 6px;
  }

  .omni-bar-landing .omni-bar-top {
    padding: var(--space-3) var(--space-3-5) 8px;
  }

  .omni-bar-bottom {
    padding: var(--space-1-5) var(--space-2-5) 10px;
    gap: var(--gap-xs);

    /* Prevent overflow - ensure right side stays visible */
  }

  .omni-bar-landing .omni-bar-bottom {
    padding: var(--space-2) var(--space-3) 12px;
  }

  /* Left side must shrink to make room for right side actions */
  .omni-bar-left {
    flex: 1 1 0%; /* Can grow and shrink */
    min-width: 0; /* Allow shrinking below content size */
    overflow: visible; /* Let capsule handle its own scroll */
  }

  /* Right side must stay visible - never shrink, but use compact sizing */
  .omni-bar-right {
    flex-shrink: 0;
    gap: var(--space-1);
  }

  /* Compact action buttons on mobile */
  .omni-bar-right .omni-icon-btn {
    width: 36px;
    height: 36px;
    min-width: 36px;
    min-height: 36px;
  }

  .omni-bar-right .omni-bar-submit {
    width: 36px;
    height: 36px;
    min-width: 36px;
  }

  .omni-bar-input {
    font-size: var(--text-base); /* Prevent iOS zoom */
  }

  .omni-mode-toggle {
    width: 100%;
    justify-content: stretch;
  }

  .omni-mode-btn {
    flex: 1;
  }

  /* Capsule is hidden on mobile - using single Context button instead */
  .context-icons-capsule-wrapper {
    display: none;
  }

  /* Attach button - WCAG 44px touch target */
  .omni-icon-btn.attach {
    width: 44px;
    height: 44px;
  }

  /* Reset button - smaller on mobile to save space */
  .omni-reset-all {
    width: 28px;
    height: 28px;
    min-width: 28px;
    flex-shrink: 0;
  }

  .omni-bar-submit {
    width: 44px;
    height: 44px;
  }

  /* Inline mode toggle - WCAG 44px touch target on mobile */
  .omni-inline-mode-toggle {
    padding: 2px;
    min-height: 44px;
    margin-left: 0;
    flex-shrink: 0;
  }

  .inline-mode-indicator {
    padding: var(--space-2-5) var(--space-3);
    font-size: var(--text-xs); /* 12px - readable and accessible */
    min-height: 44px;
    min-width: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* Context popover on mobile - card-style items like DepartmentCheckboxItem */
  .context-popover-list {
    gap: var(--gap-xs-plus); /* Gap between card items */
    padding: var(--space-2);
  }

  .context-popover-item {
    padding: var(--space-3-5) var(--space-4); /* Match DepartmentCheckboxItem mobile padding */
    font-size: var(--text-base); /* Match DepartmentCheckboxItem mobile font */
    min-height: 56px; /* Match DepartmentCheckboxItem mobile height */
    background: var(--color-bg-tertiary); /* Card background - visible in light mode */
    border-radius: var(--radius-lg); /* Match DepartmentCheckboxItem */
  }

  .context-popover-item:active {
    background: var(--color-bg-hover);
    transform: scale(0.98);
  }

  .context-popover-item.selected {
    background: var(--color-bg-hover);
  }

  /* Larger checkbox/radio on mobile - match DepartmentCheckboxItem.mobile (24px) */
  .context-popover-checkbox,
  .context-popover-radio {
    width: 24px;
    height: 24px;
    border-radius: var(--radius-md);
  }

  .context-popover-checkbox svg {
    width: 16px;
    height: 16px;
  }

  .context-popover-radio svg {
    width: 14px;
    height: 14px;
  }

  /* Larger accordion headers for Playbooks */
  .context-popover-group-header.clickable {
    padding: var(--space-3-5) var(--space-3);
    font-size: var(--text-xs-plus);
    min-height: 48px;
    gap: var(--gap-sm-plus);
  }

  .context-popover-group-header .section-chevron {
    width: 16px;
    height: 16px;
  }

  .context-popover-group-header svg {
    width: 16px;
    height: 16px;
  }

  .context-popover-group-header .section-count {
    font-size: var(--text-xs-plus);
  }

  /* Larger expanded items container */
  .context-popover-group-items {
    margin-left: var(--space-5);
    padding-left: var(--space-3);
    margin-top: var(--space-2);
  }

  /* Items inside expanded sections (Playbooks) */
  .context-popover-group-items .context-popover-item {
    padding: var(--space-3) var(--space-3-5);
    font-size: var(--text-sm-plus);
    min-height: 48px;
  }
}
