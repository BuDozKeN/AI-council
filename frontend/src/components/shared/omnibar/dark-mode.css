/* OmniBar - Dark Mode */

/* Extracted from OmniBar.css lines 994-end */
/* =============================================================================
   DARK MODE
   ============================================================================= */

.dark .omni-bar {
  background: var(--glass-bg);
  border-color: var(--glass-border);
  box-shadow:
    0 4px 16px var(--overlay-black-30),
    0 1px 4px var(--overlay-black-20),
    inset 0 1px 0 var(--overlay-white-5);
}

.dark .omni-bar:focus-within {
  background: var(--glass-bg-focus);
  border-color: var(--color-brand-primary);
  box-shadow:
    0 4px 24px var(--overlay-blue-20),
    0 2px 8px var(--overlay-black-30),
    inset 0 1px 0 var(--overlay-white-8);
}

.dark .omni-bar-wrapper.omni-bar-landing .omni-bar,
.dark .omni-bar-wrapper.omni-bar-landing.has-content .omni-bar,
.dark .omni-bar-wrapper.omni-bar-landing.council-mode .omni-bar,
.dark .omni-bar-wrapper.omni-bar-landing.council-mode.has-content .omni-bar {
  background: var(--glass-bg);
  border: none;
  box-shadow:
    0 8px 32px var(--overlay-black-40),
    0 2px 8px var(--overlay-black-20),
    inset 0 1px 0 var(--overlay-white-5);
}

.dark .omni-bar-wrapper.omni-bar-landing .omni-bar:hover {
  box-shadow:
    0 12px 40px var(--overlay-black-50),
    0 4px 12px var(--overlay-black-30),
    inset 0 1px 0 var(--overlay-white-5);
}

/* Focus state - no visible ring, just subtle shadow enhancement */
.dark .omni-bar-wrapper.omni-bar-landing .omni-bar:focus-within,
.dark .omni-bar-wrapper.omni-bar-landing.council-mode .omni-bar:focus-within {
  background: var(--glass-bg-focus);
  border: none;
  box-shadow:
    0 12px 40px var(--overlay-black-50),
    0 4px 12px var(--overlay-black-30),
    inset 0 1px 0 var(--overlay-white-8);
}

.dark .omni-bar-bottom {
  border-block-start-color: var(--color-border);
}

/* Dark mode capsule - slightly lighter to stand out from dark glass bg */
.dark .context-icons-capsule {
  background: var(--overlay-white-10);
  border-color: var(--color-border);
}

.dark .omni-bar-input {
  color: var(--color-text-primary);
}

.dark .omni-bar-input::placeholder {
  color: var(--color-text-tertiary);
}

.dark .omni-bar-kbd {
  background: var(--color-bg-tertiary);
  border-color: var(--color-border);
  color: var(--color-text-secondary);
}

.dark .omni-icon-btn {
  color: var(--color-text-secondary);
}

.dark .omni-icon-btn:hover:not(:disabled) {
  background: var(--color-bg-hover);
  color: var(--color-text-primary);
}

.dark .omni-icon-btn.company.has-selection {
  color: var(--color-emerald-400);
}

.dark .omni-icon-btn.dept.has-selection {
  color: var(--color-amber-400);
}

.dark .omni-icon-btn.role.has-selection {
  color: var(--color-purple-400);
}

.dark .omni-icon-btn.playbook.has-selection {
  color: var(--color-blue-400);
}

.dark .omni-icon-btn.project.has-selection {
  color: var(--color-cyan-400);
}

.dark .omni-bar-submit {
  background: transparent;
  color: var(--color-text-tertiary);
}

.dark .omni-bar-submit.active {
  background: var(--color-brand-primary);
  color: var(--color-text-inverse);
}

.dark .omni-mode-toggle {
  background: var(--color-bg-secondary);
  border-color: var(--color-border-secondary);
}

.dark .omni-mode-btn {
  color: var(--color-text-quaternary);
}

.dark .omni-mode-btn:hover {
  color: var(--color-text-tertiary);
}

.dark .omni-mode-btn.active {
  background: var(--color-bg-tertiary);
  color: var(--color-text-primary);
  box-shadow: var(--shadow-sm);
}

.dark .omni-mode-btn.active::before {
  background: var(--color-indigo-400);
}

.dark .omni-mode-btn:last-child.active::before {
  background: linear-gradient(
    90deg,
    var(--color-indigo-400) 0%,
    var(--color-indigo-400) 20%,
    transparent 20%,
    transparent 40%,
    var(--color-indigo-400) 40%,
    var(--color-indigo-400) 60%,
    transparent 60%,
    transparent 80%,
    var(--color-indigo-400) 80%,
    var(--color-indigo-400) 100%
  );
}

/* Inline mode toggle dark mode */
.dark .omni-inline-mode-toggle {
  background: var(--color-bg-secondary);
  border-color: var(--color-border);
}

.dark .omni-inline-mode-toggle:hover:not(:disabled) {
  border-color: var(--color-border-dark);
}

.dark .inline-mode-indicator {
  color: var(--color-text-quaternary);
}

.dark .inline-mode-indicator.active {
  background: var(--color-bg-tertiary);
  color: var(--color-text-primary);
  box-shadow: 0 1px 2px var(--overlay-black-20);
}

/* Context popover dark mode */
.dark .context-popover-content {
  background: var(--color-bg-secondary);
  border-color: var(--color-border);
  box-shadow:
    0 8px 32px var(--overlay-black-40),
    0 2px 8px var(--overlay-black-20);
}

.dark .context-popover-header {
  color: var(--color-text-secondary);
  border-block-end-color: var(--color-border);
}

.dark .context-popover-clear {
  color: var(--color-text-tertiary);
}

.dark .context-popover-clear:hover {
  background: var(--color-bg-hover);
  color: var(--color-text-secondary);
}

.dark .omni-reset-all {
  color: var(--color-text-tertiary); /* More muted to blend with other icons */
}

.dark .omni-reset-all:hover:not(:disabled) {
  background: var(--color-bg-hover);
  color: var(--color-text-secondary);
}

.dark .context-popover-item {
  color: var(--color-text-primary);
}

.dark .context-popover-item:hover {
  background: var(--color-bg-hover);
}

.dark .context-popover-item.selected {
  background: var(--color-bg-hover);
}

.dark .context-popover-empty {
  color: var(--color-text-tertiary);
}

.dark .context-popover-checkbox {
  background: var(--color-bg-tertiary);
  border-color: var(--color-border-dark);
}

.dark .context-popover-checkbox.checked {
  background: var(--color-indigo-500);
  border-color: var(--color-indigo-500);
}

.dark .context-popover-radio {
  background: var(--color-bg-tertiary);
  border-color: var(--color-border-dark);
}

.dark .context-popover-radio.checked {
  background: var(--color-emerald-500);
  border-color: var(--color-emerald-500);
}

.dark .context-popover-group-header {
  color: var(--color-text-secondary);
}

.dark .context-popover-group-header.clickable {
  background: var(--color-bg-tertiary);
}

.dark .context-popover-group-header.clickable:hover {
  background: var(--color-bg-hover);
}

.dark .context-popover-group-items {
  border-inline-start-color: var(--color-border);
}

/* Playbook type colors in dark mode */
.dark .context-popover-group-header.sop {
  color: var(--color-blue-400);
}

.dark .context-popover-group-header.framework {
  color: var(--color-amber-400);
}

.dark .context-popover-group-header.policy {
  color: var(--color-purple-400);
}

/* =============================================================================
   MOBILE DARK MODE OVERRIDES
   ============================================================================= */

@media (width <= 640px) {
  /* Mobile dark mode - card items with proper background */
  .dark .context-popover-item {
    background: var(--color-bg-tertiary);
  }

  .dark .context-popover-item:active {
    background: var(--color-bg-hover);
  }

  .dark .context-popover-item.selected {
    background: var(--color-bg-hover);
  }
}
