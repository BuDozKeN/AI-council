/* LLM Hub - Model List & Pills */

/* Extracted from llm-hub.css lines 440-794 */

/* ============================================================================
   Model List
   ============================================================================ */

.llm-model-list {
  display: flex;
  flex-direction: column;
  gap: 0;
  margin-block-start: 12px;
}

.llm-model-row {
  display: flex;
  align-items: flex-start;
  gap: 16px;
  padding: 12px 0;
  border-block-end: 1px solid var(--color-border-light);
}

.llm-model-row:first-child {
  padding-block-start: 0;
}

.llm-model-row:last-child {
  border-block-end: none;
  padding-block-end: 0;
}

.llm-model-role {
  display: flex;
  flex-direction: column;
  gap: 2px;
  min-width: 120px;
  max-width: 120px;
  flex-shrink: 0;
  padding-block-start: 6px;
}

.llm-model-role-label {
  font-size: 13px;
  font-weight: 500;
  color: var(--color-text-primary);
}

.llm-model-role-hint {
  font-size: 11px;
  color: var(--color-text-tertiary);
}

/* Model grid */
.llm-model-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  flex: 1;
  align-items: center;
}

/* Model item wrapper - handles long-press delete */
.llm-model-item {
  position: relative;
}

/* ==========================================================================
   MODEL PILLS - IDENTICAL sizing for symmetry
   Using high specificity to override select.css defaults

   ARCHITECTURE NOTE: Width is FIXED at 180px across ALL breakpoints.
   Only height changes (36px desktop â†’ 44px mobile for touch targets).
   This prevents the "mobile override trap" where media queries accidentally
   break intentionally consistent sizing.
   ========================================================================== */

/*
 * CSS Custom Properties for model pill sizing
 * --llm-pill-width: FIXED - never changes across breakpoints
 * --llm-pill-height: Changes for mobile touch targets (44px minimum)
 */
[data-llm-select] {
  --llm-pill-width: 180px; /* FIXED - do not override in media queries */
  --llm-pill-height: 36px; /* Desktop default, mobile overrides to 44px */
}

/* LLM Model Select - uses [data-llm-select] parent and select-trigger--llm-model class
   to completely isolate from generic select.css styles */
[data-llm-select] .select-trigger {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: 8px;
  width: var(--llm-pill-width);
  min-width: var(--llm-pill-width);
  max-width: var(--llm-pill-width);
  height: var(--llm-pill-height);
  min-height: var(--llm-pill-height);
  max-height: var(--llm-pill-height);
  padding: 0 12px;
  background: var(--color-bg-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  font-size: 13px;
  font-weight: 500;
  color: var(--color-text-primary);
  cursor: pointer;
  transition: all 0.15s ease;
  user-select: none;
  box-shadow: none;
}

[data-llm-select] .select-trigger:hover {
  border-color: var(--color-border-dark);
  background: var(--color-bg-secondary);
}

/* Add button - IDENTICAL size to dropdowns (uses same CSS vars) */
.llm-model-grid .llm-model-add,
.llm-model-chain .llm-model-add {
  --llm-pill-width: 180px; /* Same as [data-llm-select] */
  --llm-pill-height: 36px;

  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  width: var(--llm-pill-width);
  min-width: var(--llm-pill-width);
  max-width: var(--llm-pill-width);
  height: var(--llm-pill-height);
  min-height: var(--llm-pill-height);
  max-height: var(--llm-pill-height);
  padding: 0 12px;
  background: var(--color-bg-primary);
  border: 1px dashed var(--color-border);
  border-radius: var(--radius-md);
  font-size: 13px;
  font-weight: 500;
  color: var(--color-text-tertiary);
  cursor: pointer;
  transition: all 0.15s ease;
  user-select: none;
}

.llm-model-grid .llm-model-add:hover,
.llm-model-chain .llm-model-add:hover {
  border-color: var(--color-brand-primary);
  color: var(--color-brand-primary);
  background: var(--color-bg-secondary);
}

.llm-model-add:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Add Model Select - dropdown trigger styled like dashed button
   NOTE: Inherits --llm-pill-width/height from [data-llm-select] parent */
.llm-model-grid .llm-model-add-trigger.select-trigger,
.llm-model-chain .llm-model-add-trigger.select-trigger {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;

  /* Width/height inherited from parent's CSS vars via [data-llm-select] .select-trigger */
  padding: 0 12px;
  background: var(--color-bg-primary);
  border: 1px dashed var(--color-border);
  border-radius: var(--radius-md);
  font-size: 13px;
  font-weight: 500;
  color: var(--color-text-tertiary);
  cursor: pointer;
  transition: all 0.15s ease;
  box-shadow: none;
}

.llm-model-grid .llm-model-add-trigger.select-trigger:hover,
.llm-model-chain .llm-model-add-trigger.select-trigger:hover {
  border-color: var(--color-brand-primary);
  color: var(--color-brand-primary);
  background: var(--color-bg-secondary);
}

.llm-model-add-trigger .llm-model-add-text {
  flex: 1;
  text-align: center;
}

/* Hide the chevron icon on Add trigger */
.llm-model-add-trigger .select-trigger-icon {
  display: none;
}

/* Exhausted state - all models already in use */
.llm-model-add-exhausted {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  width: var(--llm-pill-width);
  min-width: var(--llm-pill-width);
  max-width: var(--llm-pill-width);
  height: var(--llm-pill-height);
  min-height: var(--llm-pill-height);
  max-height: var(--llm-pill-height);
  padding: 0 12px;
  background: var(--color-bg-tertiary);
  border: 1px dashed var(--color-border);
  border-radius: var(--radius-md);
  font-size: 12px;
  font-weight: 500;
  color: var(--color-text-quaternary);
  cursor: not-allowed;
  opacity: 0.6;
}

.llm-model-select .llm-model-name {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  flex: 1;
  text-align: start;
}

.llm-model-icon {
  width: 16px;
  height: 16px;
  flex-shrink: 0;
  object-fit: contain;
  border-radius: 2px;
}

.select-item .llm-model-icon {
  margin-inline-end: 8px;
}

/* Long-press delete overlay */
.llm-model-delete-overlay {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-danger);
  border-radius: var(--radius-md);
  color: var(--color-white);
  font-size: 12px;
  font-weight: 600;
  cursor: pointer;
  opacity: 0;
  transform: scale(0.95);
  transition: all 0.2s ease;
  pointer-events: none;
  z-index: var(--z-elevated);
}

.llm-model-item.deleting .llm-model-delete-overlay {
  opacity: 1;
  transform: scale(1);
  pointer-events: auto;
}

/* Visual feedback during long-press */
.llm-model-item.pressing .llm-model-select {
  transform: scale(0.98);
  border-color: var(--color-danger);
}

/* Model dropdown */
.llm-model-dropdown .select-viewport {
  padding: 0;
}

.llm-model-dropdown .select-item {
  border-block-end: 1px solid var(--color-border-light);
  border-radius: 0;
  padding: 10px 14px;
  padding-inline-end: 40px;
}

.llm-model-dropdown .select-item:last-child {
  border-block-end: none;
}

.llm-model-dropdown .select-item:hover,
.llm-model-dropdown .select-item[data-highlighted] {
  background: var(--color-bg-secondary);
}

.llm-model-dropdown .select-item[data-state='checked'] {
  background: var(--color-bg-tertiary);
  color: var(--color-brand-primary);
}

/* Separator before Remove option */
.llm-model-dropdown-separator {
  height: 1px;
  margin: 4px 0;
  background: var(--color-border);
}

/* Remove option - destructive styling */
.llm-model-dropdown .llm-model-remove-option {
  color: var(--color-danger);
}

.llm-model-dropdown .llm-model-remove-option:hover,
.llm-model-dropdown .llm-model-remove-option[data-highlighted] {
  background: var(--color-danger-bg);
  color: var(--color-danger);
}

/* ============================================================================
   Model Fallback Chain
   ============================================================================ */

.llm-model-chain {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  flex: 1;
  align-items: center;
}

.llm-model-chain-item {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 4px;
}

.llm-model-chain-label {
  font-size: 9px;
  font-weight: 600;
  color: var(--color-text-tertiary);
  text-transform: uppercase;
  letter-spacing: 0.03em;
  padding-inline-start: 2px;
}

.llm-model-chain-item:first-child .llm-model-chain-label {
  color: var(--color-text-secondary);
}

.llm-model-chain-item-controls {
  display: flex;
  align-items: center;
  gap: 2px;
}

.llm-model-chain .llm-model-add {
  align-self: flex-end;
  margin-block-start: 14px;
}
