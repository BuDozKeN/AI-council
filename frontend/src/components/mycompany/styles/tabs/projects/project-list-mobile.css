/**
 * Projects Tab - Mobile Responsive
 * Extracted from project-list.css for CSS budget compliance.
 */

/* ============================================================================
   MOBILE RESPONSIVE - Projects
   Hide non-essential metadata to maximize content real estate
   ============================================================================ */

@media (width <= 640px) {
  /* Hide timestamps on mobile - not essential, saves space */
  .mc-project-timestamps {
    display: none;
  }

  /* Also hide timeline dates in decisions view on mobile */
  .mc-timeline-date {
    display: none;
  }

  /* Tighter meta row spacing on mobile */
  .mc-project-meta-row {
    gap: 6px;
    flex-wrap: wrap;
  }
}

/* ========== PROJECTS TAB - MOBILE ========== */
@media (width <= 640px) {
  /* UXH-168: Safe area inset only (nav is now a hidden drag-up tray) */
  .mc-projects {
    padding-bottom: env(safe-area-inset-bottom, 0px);
  }

  /* Project row: clean card-like appearance */
  .mc-project-row-compact {
    flex-wrap: wrap;
    padding: 14px var(--space-4);
    background: var(--color-bg-primary);
    border-radius: var(--radius-lg);
    margin-bottom: var(--space-2);
    border: 1px solid var(--color-border);
    box-shadow: var(--shadow-xs);
  }

  /* Mobile tap feedback - Issue #49 fix */
  .mc-project-row-compact:active {
    background: var(--color-bg-hover);
    transform: scale(0.99);
    border-color: var(--color-border-dark);
  }

  /* Hide hover actions on mobile - tap opens detail view */

  /* Double class selector for specificity over hover states */
  .mc-project-row-compact.mc-project-row-compact .mc-project-actions,
  .mc-project-row-compact .mc-project-actions[class] {
    display: none;
  }

  /* Always show meta on mobile (no hover state) */
  .mc-project-row-compact.mc-project-row-compact .mc-project-meta,
  .mc-project-row-compact .mc-project-meta[class] {
    display: flex;
    margin-left: auto;
  }

  /* Title group: allow name to wrap, limit badges */
  .mc-project-title-group {
    flex: 1;
    min-width: 0;
    flex-wrap: wrap;
    gap: 6px;
    row-gap: var(--space-1);
  }

  /* UXH-065: Multi-line project name - prevent truncation on mobile */
  .mc-project-name {
    width: 100%;
    font-size: var(--text-sm-plus); /* 15px */
    font-weight: 500;
    line-height: 1.3;
    margin-bottom: 2px;
    display: -webkit-box;
    -webkit-line-clamp: 2; /* Show 2 lines before truncating */
    -webkit-box-orient: vertical;
    overflow: hidden;
    white-space: normal; /* Allow wrapping */
  }

  /* Show max 2 department badges on mobile */
  .mc-project-dept-badge {
    font-size: var(--text-xs); /* 12px - closest to 11px */
    padding: 2px 6px;
  }

  .mc-project-dept-badge:nth-child(n + 4) {
    display: none;
  }

  /* Meta: compact right-aligned */
  .mc-project-meta {
    flex-shrink: 0;
    gap: 6px;
  }

  .mc-project-decision-count {
    font-size: var(--text-xs-plus); /* 13px */
    min-width: 20px;
  }

  .mc-project-time {
    font-size: var(--text-xs); /* 12px */
    color: var(--color-text-tertiary);
  }

  /* Status dot: slightly larger for visibility */
  .mc-project-row-compact .mc-status-dot {
    width: 8px;
    height: 8px;
    flex-shrink: 0;
  }
}
