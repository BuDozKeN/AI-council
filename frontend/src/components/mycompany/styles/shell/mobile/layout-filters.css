/**
 * MyCompany Mobile Shell - Filter Stacking Styles
 * Extracted from layout.css for CSS budget compliance.
 *
 * Contains:
 * - Filter stacking on mobile
 * - Tab headers compact layout
 * - Decisions filters responsive layout
 */

/* ============================================================================
   P0-5: FILTER STACKING ON MOBILE
   Prevent horizontal overflow
   ============================================================================ */

@media (width <= 640px) {
  /* Filters row on mobile - compact single row */
  .mc-projects-filters {
    flex-flow: row nowrap;
    align-items: center;
    gap: var(--gap-xs-plus);
    padding: var(--space-1) 0;
  }

  .mc-filters-left {
    flex-flow: row nowrap;
    gap: var(--gap-xs-plus);
    flex: 1;
    min-width: 0;
  }

  /* Filter dropdowns shrink to content */
  .mc-filters-left > * {
    flex: 0 1 auto;
    min-width: 0;
    max-width: 50%;
  }

  /* Hide "New" button - FAB is used instead */
  .mc-projects-filters .mc-btn-clean,
  .mc-projects-filters > button {
    display: none;
  }

  /* Tab headers - compact on mobile */
  .mc-team-header,
  .mc-playbooks-header,
  .mc-decisions-header {
    flex-flow: row nowrap;
    gap: var(--gap-sm);
    padding: var(--space-1) 0;
  }

  .mc-team-header > span:first-child,
  .mc-playbooks-header > span:first-child,
  .mc-decisions-header > span:first-child {
    font-size: 0.75rem;
  }

  /* Playbooks filters - compact */
  .mc-playbooks-header {
    gap: var(--gap-xs-plus);
  }

  /* Hide header buttons on mobile - FAB is used instead */
  .mc-team-header > button,
  .mc-playbooks-header > button {
    display: none;
  }

  /* Decisions filters - responsive row layout */
  .mc-decisions-filters {
    display: flex;
    flex-flow: row nowrap;
    gap: var(--gap-sm);
    padding: var(--space-1) 0;
    align-items: stretch;
  }

  /* Department filter - allow shrink but maintain usability */
  .mc-decisions-filters .mc-dept-filter {
    flex: 0 1 auto;
    min-width: 0;
    max-width: 45%;
  }

  /* Search input takes remaining space */
  .mc-decisions-filters .mc-search-input-wrapper {
    flex: 1 1 auto;
    min-width: 0;
    max-width: none;
  }
}

/* Extra small mobile - more compact layouts (380px and below) */
@media (width <= 640px) {
  .mc-decisions-filters {
    gap: var(--gap-xs-plus);
  }

  .mc-decisions-filters .mc-dept-filter {
    max-width: 40%;
  }

  /* Slightly tighter content padding on very small screens */
  .mc-content {
    padding: var(--space-2) var(--space-3);
    padding-bottom: calc(70px + env(safe-area-inset-bottom, 0px));
  }

  .mc-overview-hero {
    padding: var(--space-3) var(--space-3-5);
    gap: var(--gap-sm);
  }

  .mc-context-card {
    padding: var(--space-3) var(--space-3-5);
  }

  /* Sticky toolbar - match smaller card padding for negative margins */
  .mc-context-sticky-toolbar {
    inset-block-start: 0;
    margin-left: -14px;
    padding-left: var(--space-3-5);
    width: calc(100% + 28px);
  }
}
