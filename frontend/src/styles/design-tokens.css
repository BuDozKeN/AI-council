/**
 * AxCouncil Design System - Single Source of Truth
 *
 * Style: Notion/Figma inspired - warm, soft, approachable
 *
 * USAGE:
 * - Import this file FIRST in your CSS chain
 * - Always use CSS variables, never hardcode values
 * - Use semantic tokens (--color-text-primary) not scale tokens (--gray-700)
 *
 * TOKEN OWNERSHIP:
 * - This file (design-tokens.css): Spacing, typography, shadows, radius, animations
 * - tailwind.css: Z-index scale (higher values for modals), color palettes, overlays
 *
 * NEVER hardcode hex colors, rgba(), or pixel values in components.
 */

:root {
  /* ============================================================================
     SPACING SCALE (4px base unit)
     Use: padding, margin, gap
     ============================================================================ */
  --space-0: 0;
  --space-1: 0.25rem;   /* 4px */
  --space-2: 0.5rem;    /* 8px */
  --space-3: 0.75rem;   /* 12px */
  --space-4: 1rem;      /* 16px */
  --space-5: 1.25rem;   /* 20px */
  --space-6: 1.5rem;    /* 24px */
  --space-8: 2rem;      /* 32px */
  --space-10: 2.5rem;   /* 40px */
  --space-12: 3rem;     /* 48px */
  --space-16: 4rem;     /* 64px */

  /* ============================================================================
     SEMANTIC SPACING - Component-specific spacing tokens
     Use these for consistent card/panel/content spacing across the app
     ============================================================================ */

  /* Card internal padding */
  --card-padding-sm: var(--space-3);      /* 12px - compact cards */
  --card-padding: var(--space-4);         /* 16px - default cards */
  --card-padding-lg: var(--space-5);      /* 20px - large cards */
  --card-padding-xl: var(--space-6);      /* 24px - hero/feature cards */

  /* Content area padding (panels, sections) */
  --content-padding-sm: var(--space-3);   /* 12px */
  --content-padding: var(--space-4);      /* 16px */
  --content-padding-lg: var(--space-6);   /* 24px */

  /* Gap between elements */
  --gap-xs: var(--space-1);               /* 4px - tight spacing */
  --gap-sm: var(--space-2);               /* 8px - compact spacing */
  --gap: var(--space-3);                  /* 12px - default spacing */
  --gap-md: var(--space-4);               /* 16px - comfortable spacing */
  --gap-lg: var(--space-6);               /* 24px - section spacing */
  --gap-xl: var(--space-8);               /* 32px - major section spacing */

  /* Stack spacing (vertical rhythm) */
  --stack-xs: var(--space-1);             /* 4px */
  --stack-sm: var(--space-2);             /* 8px */
  --stack: var(--space-3);                /* 12px */
  --stack-md: var(--space-4);             /* 16px */
  --stack-lg: var(--space-6);             /* 24px */

  /* ============================================================================
     TYPOGRAPHY - Premium Modern ($25M worthy)
     Geist Sans for body, Inter as fallback, premium letter-spacing
     ============================================================================ */
  --font-sans: 'Geist', 'Inter', -apple-system, blinkmacsystemfont, 'Segoe UI', sans-serif;
  --font-mono: 'Geist Mono', 'JetBrains Mono', 'Fira Code', monospace;

  /* Font sizes (rem for accessibility) */
  --text-xs: 0.75rem;     /* 12px */
  --text-sm: 0.875rem;    /* 14px */
  --text-base: 1rem;      /* 16px */
  --text-lg: 1.125rem;    /* 18px */
  --text-xl: 1.25rem;     /* 20px */
  --text-2xl: 1.5rem;     /* 24px */
  --text-3xl: 1.875rem;   /* 30px */
  --text-4xl: 2.25rem;    /* 36px */
  --text-5xl: 3rem;       /* 48px */

  /* Line heights - tighter for modern look */
  --leading-none: 1;
  --leading-tight: 1.2;
  --leading-snug: 1.35;
  --leading-normal: 1.5;
  --leading-relaxed: 1.625;
  --leading-loose: 1.8;

  /* Letter spacing - negative for headings, tight for body */
  --tracking-tighter: -0.03em;
  --tracking-tight: -0.02em;
  --tracking-normal: -0.01em;
  --tracking-wide: 0.025em;
  --tracking-wider: 0.05em;

  /* Font weights */
  --font-normal: 400;
  --font-medium: 500;
  --font-semibold: 600;
  --font-bold: 700;

  /* ============================================================================
     BORDER RADIUS (Notion-style: soft, approachable)
     ============================================================================ */
  --radius-none: 0;
  --radius-xs: 2px;       /* Micro: indicators, progress bars */
  --radius-sm: 4px;       /* Small: badges, tags, code blocks */
  --radius-default: 6px;  /* Default: small buttons, menu items */
  --radius-md: 8px;       /* Medium: buttons, inputs, dropdowns */
  --radius-lg: 12px;      /* Large: cards, panels */
  --radius-xl: 16px;      /* Extra large: modals, sheets */
  --radius-2xl: 20px;     /* Feature: hero sections, landing cards */
  --radius-3xl: 24px;     /* Maximum: mobile sheets, dialogs */
  --radius-full: 9999px;  /* Pills, avatars, circular */

  /* ============================================================================
     SHADOWS (Premium layered - 3x depth for modern look)
     ============================================================================ */
  --shadow-xs:
    0 1px 2px rgb(0, 0, 0, 0.08),
    0 0 1px rgb(0, 0, 0, 0.04);
  --shadow-sm:
    0 2px 4px rgb(0, 0, 0, 0.12),
    0 1px 2px rgb(0, 0, 0, 0.08),
    0 0 1px rgb(0, 0, 0, 0.04);
  --shadow-md:
    0 8px 16px -4px rgb(0, 0, 0, 0.16),
    0 4px 8px -2px rgb(0, 0, 0, 0.12),
    0 0 1px rgb(0, 0, 0, 0.08);
  --shadow-lg:
    0 16px 32px -8px rgb(0, 0, 0, 0.2),
    0 8px 16px -4px rgb(0, 0, 0, 0.14),
    0 0 1px rgb(0, 0, 0, 0.08);
  --shadow-xl:
    0 24px 48px -12px rgb(0, 0, 0, 0.24),
    0 12px 24px -6px rgb(0, 0, 0, 0.16),
    0 0 1px rgb(0, 0, 0, 0.08);
  --shadow-2xl:
    0 32px 64px -16px rgb(0, 0, 0, 0.32),
    0 16px 32px -8px rgb(0, 0, 0, 0.2),
    0 0 1px rgb(0, 0, 0, 0.08);

  /* Focus ring (accessibility) - using iris brand color */
  --shadow-focus: 0 0 0 3px rgb(var(--color-focus-rgb), 0.35);
  --shadow-focus-error: 0 0 0 3px rgb(239, 68, 68, 0.35);

  /* ============================================================================
     NOISE TEXTURES (2025 Premium Trend - Vercel/Linear style)
     ============================================================================ */
  --noise-texture: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  --noise-opacity-subtle: 0.015;
  --noise-opacity-medium: 0.025;
  --noise-opacity-strong: 0.04;

  /* Z-INDEX SCALE: Defined in tailwind.css (canonical source) */

  /* ============================================================================
     LIGHT THEME COLORS (Default - Notion/Figma inspired)
     ============================================================================ */

  /* --- Background colors --- */
  --color-bg-base: #fff;           /* Main background */
  --color-bg-subtle: #fafafa;         /* Sidebar, secondary areas */
  --color-bg-muted: #f5f5f5;          /* Cards, elevated surfaces */
  --color-bg-emphasis: #ebebeb;       /* Hover states, active */
  --color-bg-canvas: #f9fafb;         /* Page canvas */

  /* --- Text colors --- */
  --color-text-default: #37352f;      /* Notion's signature dark brown-black */
  --color-text-muted: #6b6b6b;        /* Secondary text */
  --color-text-subtle: #9b9b9b;       /* Tertiary, placeholders */
  --color-text-disabled: #c7c7c7;     /* Disabled state */
  --color-text-inverse: #fff;      /* On dark backgrounds */

  /* --- Border colors --- */
  --color-border-default: #e8e8e8;    /* Default borders */
  --color-border-muted: #f0f0f0;      /* Subtle dividers */
  --color-border-emphasis: #d4d4d4;   /* Emphasized borders */

  /* --- Primary (Brand) --- */

  /* NOTE: --color-primary is defined in tailwind.css as indigo (#6366f1) */

  /* These are kept for legacy compatibility but tailwind.css takes precedence */
  --color-primary-subtle: #eef2ff;    /* Indigo-50 for subtle backgrounds */

  /* --- Accent - DEPRECATED: Use tailwind.css --color-accent (indigo) instead --- */

  /* Accent colors are now defined in tailwind.css as the brand indigo (#6366f1) */

  /* Legacy red/coral accent removed to prevent conflicts */

  /* --- Success --- */
  --color-success: #0f7b6c;           /* Notion teal */
  --color-success-hover: #0d6b5e;
  --color-success-subtle: #e6f4f1;
  --color-success-text: #fff;

  /* --- Warning --- */
  --color-warning: #cb912f;           /* Notion yellow/gold */
  --color-warning-hover: #b8821a;
  --color-warning-subtle: #fbf3db;
  --color-warning-text: #3f3f3f;

  /* --- Error --- */
  --color-error: #e03e3e;             /* Notion red */
  --color-error-hover: #c93636;
  --color-error-subtle: #fbe4e4;
  --color-error-text: #fff;

  /* --- Info --- */
  --color-info: #337ea9;              /* Notion blue variant */
  --color-info-hover: #2b6d93;
  --color-info-subtle: #ddebf1;

  /* --- Focus (Accessibility) - Iris/Indigo for high visibility --- */
  --color-focus: #6366f1;
  --color-focus-rgb: 99, 102, 241;    /* For rgba() usage */

  /* Tag & Department colors: Defined in tailwind.css (canonical source) */

  /* ============================================================================
     ANIMATION & TRANSITIONS - Spring-like Premium Motion
     ============================================================================ */
  --duration-instant: 0ms;
  --duration-fast: 150ms;
  --duration-normal: 250ms;
  --duration-slow: 400ms;
  --duration-slower: 500ms;

  /* Spring-approximating bezier curves for buttery smooth interactions */
  --ease-default: cubic-bezier(0.22, 1, 0.36, 1);     /* Smooth snappy spring */
  --ease-in: cubic-bezier(0.4, 0, 1, 1);
  --ease-out: cubic-bezier(0, 0, 0.2, 1);
  --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);   /* Bouncy spring overshoot */
  --ease-snappy: cubic-bezier(0.22, 1, 0.36, 1);      /* Quick responsive */
  --ease-gentle: cubic-bezier(0.16, 1, 0.3, 1);       /* Gentle deceleration */
  --ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);

  /* ============================================================================
     COMPONENT-SPECIFIC TOKENS
     ============================================================================ */

  /* --- Buttons --- */
  --btn-height-sm: 32px;
  --btn-height-md: 36px;
  --btn-height-lg: 44px;
  --btn-padding-sm: var(--space-2) var(--space-3);
  --btn-padding-md: var(--space-2) var(--space-4);
  --btn-padding-lg: var(--space-3) var(--space-6);

  /* --- Inputs --- */
  --input-height-sm: 32px;
  --input-height-md: 40px;
  --input-height-lg: 48px;
  --input-padding: var(--space-2) var(--space-3);

  /* --- Cards --- */
  --card-radius: var(--radius-lg);

  /* --- Modal --- */
  --modal-padding: var(--space-6);
  --modal-radius: var(--radius-xl);
  --modal-shadow: var(--shadow-2xl);

  /* --- Sidebar --- */
  --sidebar-width: 280px;
  --sidebar-width-collapsed: 60px;
  --sidebar-bg: var(--color-bg-subtle);
  --sidebar-border: var(--color-border-default);
}

/* ============================================================================
   DARK THEME
   ============================================================================ */
.dark,
[data-theme="dark"] {
  /* --- Background colors --- */
  --color-bg-base: #191919;           /* Notion dark background */
  --color-bg-subtle: #202020;
  --color-bg-muted: #2f2f2f;
  --color-bg-emphasis: #373737;
  --color-bg-canvas: #121212;

  /* --- Text colors --- */
  --color-text-default: #ffffffcf;    /* Notion's dark mode text */
  --color-text-muted: #ffffff80;
  --color-text-subtle: #ffffff52;
  --color-text-disabled: #fff3;
  --color-text-inverse: #191919;

  /* --- Border colors --- */
  --color-border-default: #ffffff14;
  --color-border-muted: #ffffff0a;
  --color-border-emphasis: #ffffff24;

  /* --- Primary (Brand) --- */

  /* NOTE: --color-primary is defined in tailwind.css as indigo (#6366f1) */
  --color-primary-subtle: #312e81;    /* Indigo-900 for dark mode subtle */

  /* --- Accent - inherits from tailwind.css (indigo) --- */

  /* Dark mode accent variants handled by tailwind.css */

  /* --- Success --- */
  --color-success: #4dab9a;
  --color-success-subtle: #1f3733;

  /* --- Warning --- */
  --color-warning: #e9a94b;
  --color-warning-subtle: #3d3222;

  /* --- Error --- */
  --color-error: #ff6b6b;
  --color-error-subtle: #4a2c2c;

  /* --- Info --- */
  --color-info: #6cb6d9;
  --color-info-subtle: #253743;

  /* --- Shadows (premium layered for dark mode) --- */
  --shadow-sm:
    0 2px 4px rgb(0, 0, 0, 0.4),
    0 1px 2px rgb(0, 0, 0, 0.3),
    0 0 1px rgb(0, 0, 0, 0.2);
  --shadow-md:
    0 8px 16px -4px rgb(0, 0, 0, 0.5),
    0 4px 8px -2px rgb(0, 0, 0, 0.35),
    0 0 1px rgb(0, 0, 0, 0.2);
  --shadow-lg:
    0 16px 32px -8px rgb(0, 0, 0, 0.55),
    0 8px 16px -4px rgb(0, 0, 0, 0.4),
    0 0 1px rgb(0, 0, 0, 0.2);
  --shadow-xl:
    0 24px 48px -12px rgb(0, 0, 0, 0.6),
    0 12px 24px -6px rgb(0, 0, 0, 0.45),
    0 0 1px rgb(0, 0, 0, 0.2);

  /* --- Sidebar --- */
  --sidebar-bg: var(--color-bg-subtle);
  --sidebar-border: var(--color-border-default);
}

/* UTILITY CLASSES: Use Tailwind utilities instead. These are not used. */

/* =============================================================================
   COMPLETION & CELEBRATION ANIMATIONS
   Premium micro-celebrations for success moments
   ============================================================================= */

/* Success pop - for checkmarks, badges, completion indicators */
.animate-success-pop {
  animation: success-pop 0.4s var(--ease-spring);
}

@keyframes success-pop {
  0% { transform: scale(0); opacity: 0; }
  60% { transform: scale(1.2); }
  100% { transform: scale(1); opacity: 1; }
}

/* Complete glow - subtle highlight pulse for containers */
.animate-complete-glow {
  animation: complete-glow 0.8s ease-out;
}

@keyframes complete-glow {
  0%, 100% { box-shadow: 0 0 0 0 rgb(16, 185, 129, 0); }
  40% { box-shadow: 0 0 20px 4px rgb(16, 185, 129, 0.25); }
}

/* Stage complete - for stage header icons */
.animate-stage-complete {
  animation: stage-complete-pop 0.5s var(--ease-spring);
}

@keyframes stage-complete-pop {
  0% { transform: scale(0.5); opacity: 0; }
  50% { transform: scale(1.25); }
  70% { transform: scale(0.95); }
  100% { transform: scale(1); opacity: 1; }
}

/* Winner reveal - bouncy entrance for trophy/winner badges */
.animate-winner-reveal {
  animation: winner-reveal 0.6s var(--ease-bounce);
}

@keyframes winner-reveal {
  0% { transform: scale(0) rotate(-15deg); opacity: 0; }
  50% { transform: scale(1.3) rotate(5deg); }
  70% { transform: scale(0.9) rotate(-2deg); }
  100% { transform: scale(1) rotate(0deg); opacity: 1; }
}

/* Fade slide up - for content reveals */
.animate-fade-slide-up {
  animation: fade-slide-up 0.4s var(--ease-default);
}

@keyframes fade-slide-up {
  0% { opacity: 0; transform: translateY(12px); }
  100% { opacity: 1; transform: translateY(0); }
}

/* Stagger children - use with animation-delay on children */
.animate-stagger > * {
  opacity: 0;
  animation: fade-slide-up 0.35s var(--ease-default) forwards;
}

.animate-stagger > *:nth-child(1) { animation-delay: 0ms; }
.animate-stagger > *:nth-child(2) { animation-delay: 50ms; }
.animate-stagger > *:nth-child(3) { animation-delay: 100ms; }
.animate-stagger > *:nth-child(4) { animation-delay: 150ms; }
.animate-stagger > *:nth-child(5) { animation-delay: 200ms; }
.animate-stagger > *:nth-child(6) { animation-delay: 250ms; }
.animate-stagger > *:nth-child(7) { animation-delay: 300ms; }
.animate-stagger > *:nth-child(8) { animation-delay: 350ms; }

/* Pulse ring - for active/thinking states */
.animate-pulse-ring {
  animation: pulse-ring 1.5s var(--ease-default) infinite;
}

@keyframes pulse-ring {
  0% { transform: scale(1); opacity: 0.8; }
  50% { transform: scale(1.15); opacity: 0.4; }
  100% { transform: scale(1); opacity: 0.8; }
}

/* Cursor fade out - for streaming end */
.animate-cursor-fade {
  animation: cursor-fade-out 0.3s ease-out forwards;
}

@keyframes cursor-fade-out {
  0% { opacity: 1; transform: translateY(0); }
  100% { opacity: 0; transform: translateY(4px); }
}

/* Celebration shake - subtle excitement */
.animate-celebrate {
  animation: celebrate-shake 0.5s var(--ease-spring);
}

@keyframes celebrate-shake {
  0%, 100% { transform: translateX(0); }
  20% { transform: translateX(-3px) rotate(-1deg); }
  40% { transform: translateX(3px) rotate(1deg); }
  60% { transform: translateX(-2px) rotate(-0.5deg); }
  80% { transform: translateX(2px) rotate(0.5deg); }
}

/* =============================================================================
   ACCESSIBILITY: Reduced Motion Support
   Respects user preference for reduced motion (WCAG 2.1 AA compliance)
   !important is required here to ensure animations are disabled regardless of specificity
   ============================================================================= */

/* stylelint-disable declaration-no-important */
@media (prefers-reduced-motion: reduce) {
  /* Disable all celebration/completion animations */
  .animate-success-pop,
  .animate-complete-glow,
  .animate-stage-complete,
  .animate-winner-reveal,
  .animate-fade-slide-up,
  .animate-pulse-ring,
  .animate-cursor-fade,
  .animate-celebrate {
    animation: none !important;
  }

  /* Disable stagger animation - show all children immediately */
  .animate-stagger > * {
    animation: none !important;
    opacity: 1 !important;
  }

  /* Disable stage celebration glows */
  .stage.stage1.celebrating,
  .stage.stage2.celebrating {
    animation: none !important;
    transition: none !important;
  }

  /* Disable chairman/council celebration */
  .chairman-indicator.celebrating,
  .final-content-wrapper.complete-glow {
    animation: none !important;
  }

  /* Disable project modal success animations */
  .pm-success-icon-wrapper,
  .pm-success-title,
  .pm-success-message {
    animation: none !important;
  }
}
/* stylelint-enable declaration-no-important */
