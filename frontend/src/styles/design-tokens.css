/**
 * AxCouncil Design System - Single Source of Truth
 *
 * Style: Notion/Figma inspired - warm, soft, approachable
 *
 * USAGE:
 * - Import this file FIRST in your CSS chain
 * - Always use CSS variables, never hardcode values
 * - Use semantic tokens (--color-text-primary) not scale tokens (--gray-700)
 *
 * TOKEN OWNERSHIP:
 * - This file (design-tokens.css): Spacing, typography, shadows, radius, animations
 * - tailwind.css: Z-index scale (higher values for modals), color palettes, overlays
 *
 * NEVER hardcode hex colors, rgba(), or pixel values in components.
 */

:root {
  /* ============================================================================
     SPACING SCALE (4px base unit with half-steps for fine control)
     Use: padding, margin, gap
     ============================================================================ */
  --space-0: 0;
  --space-px: 1px; /* 1px - hairline */
  --space-0-5: 0.125rem; /* 2px - micro spacing */
  --space-1: 0.25rem; /* 4px */
  --space-1-5: 0.375rem; /* 6px - common UI gap */
  --space-2: 0.5rem; /* 8px */
  --space-2-5: 0.625rem; /* 10px */
  --space-3: 0.75rem; /* 12px */
  --space-3-5: 0.875rem; /* 14px */
  --space-4: 1rem; /* 16px */
  --space-5: 1.25rem; /* 20px */
  --space-6: 1.5rem; /* 24px */
  --space-8: 2rem; /* 32px */
  --space-10: 2.5rem; /* 40px */
  --space-12: 3rem; /* 48px */
  --space-16: 4rem; /* 64px */

  /* ============================================================================
     SEMANTIC SPACING - Component-specific spacing tokens
     Use these for consistent card/panel/content spacing across the app
     ============================================================================ */

  /* Card internal padding */
  --card-padding-sm: var(--space-3); /* 12px - compact cards */
  --card-padding: var(--space-4); /* 16px - default cards */
  --card-padding-lg: var(--space-5); /* 20px - large cards */
  --card-padding-xl: var(--space-6); /* 24px - hero/feature cards */

  /* Content area padding (panels, sections) */
  --content-padding-sm: var(--space-3); /* 12px */
  --content-padding: var(--space-4); /* 16px */
  --content-padding-lg: var(--space-6); /* 24px */

  /* Gap between elements */
  --gap-2xs: var(--space-0-5); /* 2px - micro spacing */
  --gap-xs: var(--space-1); /* 4px - tight spacing */
  --gap-xs-plus: var(--space-1-5); /* 6px - common UI gap */
  --gap-sm: var(--space-2); /* 8px - compact spacing */
  --gap-sm-plus: var(--space-2-5); /* 10px */
  --gap: var(--space-3); /* 12px - default spacing */
  --gap-plus: var(--space-3-5); /* 14px */
  --gap-md: var(--space-4); /* 16px - comfortable spacing */
  --gap-lg: var(--space-6); /* 24px - section spacing */
  --gap-xl: var(--space-8); /* 32px - major section spacing */

  /* Stack spacing (vertical rhythm) */
  --stack-xs: var(--space-1); /* 4px */
  --stack-sm: var(--space-2); /* 8px */
  --stack: var(--space-3); /* 12px */
  --stack-md: var(--space-4); /* 16px */
  --stack-lg: var(--space-6); /* 24px */

  /* ============================================================================
     TYPOGRAPHY - Premium Modern ($25M worthy)
     Geist Sans for body, Inter as fallback, premium letter-spacing
     ============================================================================ */
  --font-sans: 'Geist', 'Inter', -apple-system, blinkmacsystemfont, 'Segoe UI', sans-serif;
  --font-mono: 'Geist Mono', 'JetBrains Mono', 'Fira Code', monospace;

  /* Font sizes (rem for accessibility) */
  --text-2xs: 0.625rem; /* 10px - tiny labels, badges */
  --text-xs: 0.75rem; /* 12px */
  --text-xs-plus: 0.8125rem; /* 13px - common UI text */
  --text-sm: 0.875rem; /* 14px */
  --text-sm-plus: 0.9375rem; /* 15px - slightly larger body */
  --text-base: 1rem; /* 16px */
  --text-lg: 1.125rem; /* 18px */
  --text-xl: 1.25rem; /* 20px */
  --text-2xl: 1.5rem; /* 24px */
  --text-3xl: 1.875rem; /* 30px */
  --text-4xl: 2.25rem; /* 36px */
  --text-5xl: 3rem; /* 48px */

  /* Line heights - tighter for modern look */
  --leading-none: 1;
  --leading-tight: 1.2;
  --leading-snug: 1.35;
  --leading-normal: 1.5;
  --leading-relaxed: 1.625;
  --leading-loose: 1.8;

  /* Letter spacing - negative for headings, tight for body */
  --tracking-tighter: -0.03em;
  --tracking-tight: -0.02em;
  --tracking-normal: -0.01em;
  --tracking-wide: 0.025em;
  --tracking-wider: 0.05em;

  /* Font weights */
  --font-normal: 400;
  --font-medium: 500;
  --font-semibold: 600;
  --font-bold: 700;

  /* ============================================================================
     BORDER RADIUS (Notion-style: soft, approachable)
     ============================================================================ */
  --radius-none: 0;
  --radius-xs: 2px; /* Micro: indicators, progress bars */
  --radius-sm: 4px; /* Small: badges, tags, code blocks */
  --radius-default: 6px; /* Default: small buttons, menu items */
  --radius-md: 8px; /* Medium: buttons, inputs, dropdowns */
  --radius-lg: 12px; /* Large: cards, panels */
  --radius-xl: 16px; /* Extra large: modals, sheets */
  --radius-2xl: 20px; /* Feature: hero sections, landing cards */
  --radius-3xl: 24px; /* Maximum: mobile sheets, dialogs */
  --radius-full: 9999px; /* Pills, avatars, circular */

  /* ============================================================================
     SHADOWS (Premium layered - 3x depth for modern look)
     ============================================================================ */
  --shadow-xs: 0 1px 2px rgb(0 0 0 / 8%), 0 0 1px rgb(0 0 0 / 4%);
  --shadow-sm: 0 2px 4px rgb(0 0 0 / 12%), 0 1px 2px rgb(0 0 0 / 8%), 0 0 1px rgb(0 0 0 / 4%);
  --shadow-md:
    0 8px 16px -4px rgb(0 0 0 / 16%), 0 4px 8px -2px rgb(0 0 0 / 12%), 0 0 1px rgb(0 0 0 / 8%);
  --shadow-lg:
    0 16px 32px -8px rgb(0 0 0 / 20%), 0 8px 16px -4px rgb(0 0 0 / 14%), 0 0 1px rgb(0 0 0 / 8%);
  --shadow-xl:
    0 24px 48px -12px rgb(0 0 0 / 24%), 0 12px 24px -6px rgb(0 0 0 / 16%), 0 0 1px rgb(0 0 0 / 8%);
  --shadow-2xl:
    0 32px 64px -16px rgb(0 0 0 / 32%), 0 16px 32px -8px rgb(0 0 0 / 20%), 0 0 1px rgb(0 0 0 / 8%);

  /* Focus ring (accessibility) - using iris brand color */
  --shadow-focus: 0 0 0 3px rgb(var(--color-focus-rgb), 0.35);
  --shadow-focus-error: 0 0 0 3px rgb(239 68 68 / 35%);

  /* ============================================================================
     NOISE TEXTURES (2025 Premium Trend - Vercel/Linear style)
     ============================================================================ */
  --noise-texture: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  --noise-opacity-subtle: 0.015;
  --noise-opacity-medium: 0.025;
  --noise-opacity-strong: 0.04;

  /* Z-INDEX SCALE: Defined in tailwind.css (canonical source) */

  /* ============================================================================
     COLORS - Single Source of Truth: tailwind.css

     ALL color tokens are defined in tailwind.css to prevent conflicts.
     This includes:
     - --color-bg-* (backgrounds)
     - --color-text-* (text)
     - --color-border-* (borders)
     - --color-primary, --color-accent (brand)
     - --color-success, --color-warning, --color-error, --color-info (semantic)
     - --color-focus (accessibility)
     - Tag & Department colors
     - Overlay colors (--overlay-*)

     DO NOT add color definitions here - edit tailwind.css instead.
     ============================================================================ */

  /* ============================================================================
     ANIMATION & TRANSITIONS - Spring-like Premium Motion
     ============================================================================ */
  --duration-instant: 0ms;
  --duration-fast: 150ms;
  --duration-normal: 250ms;
  --duration-slow: 400ms;
  --duration-slower: 500ms;

  /* Spring-approximating bezier curves for buttery smooth interactions */
  --ease-default: cubic-bezier(0.22, 1, 0.36, 1); /* Smooth snappy spring */
  --ease-in: cubic-bezier(0.4, 0, 1, 1);
  --ease-out: cubic-bezier(0, 0, 0.2, 1);
  --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1); /* Bouncy spring overshoot */
  --ease-snappy: cubic-bezier(0.22, 1, 0.36, 1); /* Quick responsive */
  --ease-gentle: cubic-bezier(0.16, 1, 0.3, 1); /* Gentle deceleration */
  --ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);

  /* ============================================================================
     COMPONENT-SPECIFIC TOKENS
     ============================================================================ */

  /* --- Buttons --- */
  --btn-height-sm: 32px;
  --btn-height-md: 36px;
  --btn-height-lg: 44px;
  --btn-padding-sm: var(--space-2) var(--space-3);
  --btn-padding-md: var(--space-2) var(--space-4);
  --btn-padding-lg: var(--space-3) var(--space-6);

  /* --- Inputs --- */
  --input-height-sm: 32px;
  --input-height-md: 40px;
  --input-height-lg: 48px;
  --input-padding: var(--space-2) var(--space-3);

  /* --- Cards --- */
  --card-radius: var(--radius-lg);

  /* --- Modal --- */
  --modal-padding: var(--space-6);
  --modal-radius: var(--radius-xl);
  --modal-shadow: var(--shadow-2xl);

  /* --- Sidebar --- */
  --sidebar-width: 280px;
  --sidebar-width-collapsed: 60px;
  --sidebar-bg: var(--color-bg-subtle);
  --sidebar-border: var(--color-border-default);
}

/* ============================================================================
   DARK THEME
   Note: Dark mode colors are defined in tailwind.css (single source of truth)
   Only shadows are overridden here for dark mode
   ============================================================================ */
.dark,
[data-theme='dark'] {
  /* --- Shadows (premium layered for dark mode) --- */
  --shadow-sm: 0 2px 4px rgb(0 0 0 / 40%), 0 1px 2px rgb(0 0 0 / 30%), 0 0 1px rgb(0 0 0 / 20%);
  --shadow-md:
    0 8px 16px -4px rgb(0 0 0 / 50%), 0 4px 8px -2px rgb(0 0 0 / 35%), 0 0 1px rgb(0 0 0 / 20%);
  --shadow-lg:
    0 16px 32px -8px rgb(0 0 0 / 55%), 0 8px 16px -4px rgb(0 0 0 / 40%), 0 0 1px rgb(0 0 0 / 20%);
  --shadow-xl:
    0 24px 48px -12px rgb(0 0 0 / 60%), 0 12px 24px -6px rgb(0 0 0 / 45%), 0 0 1px rgb(0 0 0 / 20%);

  /* --- Sidebar --- */
  --sidebar-bg: var(--color-bg-subtle);
  --sidebar-border: var(--color-border-default);
}

/* UTILITY CLASSES: Use Tailwind utilities instead. These are not used. */

/* =============================================================================
   COMPLETION & CELEBRATION ANIMATIONS
   Premium micro-celebrations for success moments
   ============================================================================= */

/* Success pop - for checkmarks, badges, completion indicators */
.animate-success-pop {
  animation: success-pop 0.4s var(--ease-spring);
}

@keyframes success-pop {
  0% {
    transform: scale(0);
    opacity: 0;
  }

  60% {
    transform: scale(1.2);
  }

  100% {
    transform: scale(1);
    opacity: 1;
  }
}

/* Complete glow - subtle highlight pulse for containers */
.animate-complete-glow {
  animation: complete-glow 0.8s ease-out;
}

@keyframes complete-glow {
  0%,
  100% {
    box-shadow: 0 0 0 0 rgb(16 185 129 / 0%);
  }

  40% {
    box-shadow: 0 0 20px 4px rgb(16 185 129 / 25%);
  }
}

/* Stage complete - for stage header icons */
.animate-stage-complete {
  animation: stage-complete-pop 0.5s var(--ease-spring);
}

@keyframes stage-complete-pop {
  0% {
    transform: scale(0.5);
    opacity: 0;
  }

  50% {
    transform: scale(1.25);
  }

  70% {
    transform: scale(0.95);
  }

  100% {
    transform: scale(1);
    opacity: 1;
  }
}

/* Winner reveal - bouncy entrance for trophy/winner badges */
.animate-winner-reveal {
  animation: winner-reveal 0.6s var(--ease-bounce);
}

@keyframes winner-reveal {
  0% {
    transform: scale(0) rotate(-15deg);
    opacity: 0;
  }

  50% {
    transform: scale(1.3) rotate(5deg);
  }

  70% {
    transform: scale(0.9) rotate(-2deg);
  }

  100% {
    transform: scale(1) rotate(0deg);
    opacity: 1;
  }
}

/* Fade slide up - for content reveals */
.animate-fade-slide-up {
  animation: fade-slide-up 0.4s var(--ease-default);
}

@keyframes fade-slide-up {
  0% {
    opacity: 0;
    transform: translateY(12px);
  }

  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Stagger children - use with animation-delay on children */
.animate-stagger > * {
  opacity: 0;
  animation: fade-slide-up 0.35s var(--ease-default) forwards;
}

.animate-stagger > *:nth-child(1) {
  animation-delay: 0ms;
}

.animate-stagger > *:nth-child(2) {
  animation-delay: 50ms;
}

.animate-stagger > *:nth-child(3) {
  animation-delay: 100ms;
}

.animate-stagger > *:nth-child(4) {
  animation-delay: 150ms;
}

.animate-stagger > *:nth-child(5) {
  animation-delay: 200ms;
}

.animate-stagger > *:nth-child(6) {
  animation-delay: 250ms;
}

.animate-stagger > *:nth-child(7) {
  animation-delay: 300ms;
}

.animate-stagger > *:nth-child(8) {
  animation-delay: 350ms;
}

/* Pulse ring - for active/thinking states */
.animate-pulse-ring {
  animation: pulse-ring 1.5s var(--ease-default) infinite;
}

@keyframes pulse-ring {
  0% {
    transform: scale(1);
    opacity: 0.8;
  }

  50% {
    transform: scale(1.15);
    opacity: 0.4;
  }

  100% {
    transform: scale(1);
    opacity: 0.8;
  }
}

/* Cursor fade out - for streaming end */
.animate-cursor-fade {
  animation: cursor-fade-out 0.3s ease-out forwards;
}

@keyframes cursor-fade-out {
  0% {
    opacity: 1;
    transform: translateY(0);
  }

  100% {
    opacity: 0;
    transform: translateY(4px);
  }
}

/* Celebration shake - subtle excitement */
.animate-celebrate {
  animation: celebrate-shake 0.5s var(--ease-spring);
}

@keyframes celebrate-shake {
  0%,
  100% {
    transform: translateX(0);
  }

  20% {
    transform: translateX(-3px) rotate(-1deg);
  }

  40% {
    transform: translateX(3px) rotate(1deg);
  }

  60% {
    transform: translateX(-2px) rotate(-0.5deg);
  }

  80% {
    transform: translateX(2px) rotate(0.5deg);
  }
}

/* =============================================================================
   ACCESSIBILITY: Reduced Motion Support
   Respects user preference for reduced motion (WCAG 2.1 AA compliance)
   !important is required here to ensure animations are disabled regardless of specificity
   ============================================================================= */

/* stylelint-disable declaration-no-important */
@media (prefers-reduced-motion: reduce) {
  /* Disable all celebration/completion animations */
  .animate-success-pop,
  .animate-complete-glow,
  .animate-stage-complete,
  .animate-winner-reveal,
  .animate-fade-slide-up,
  .animate-pulse-ring,
  .animate-cursor-fade,
  .animate-celebrate {
    animation: none !important;
  }

  /* Disable stagger animation - show all children immediately */
  .animate-stagger > * {
    animation: none !important;
    opacity: 1 !important;
  }

  /* Disable stage celebration glows */
  .stage.stage1.celebrating,
  .stage.stage2.celebrating {
    animation: none !important;
    transition: none !important;
  }

  /* Disable chairman/council celebration */
  .chairman-indicator.celebrating,
  .final-content-wrapper.complete-glow {
    animation: none !important;
  }

  /* Disable project modal success animations */
  .pm-success-icon-wrapper,
  .pm-success-title,
  .pm-success-message {
    animation: none !important;
  }
}
/* stylelint-enable declaration-no-important */
